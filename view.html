<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>View Employee Hours</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h2>Employee Hours (Read-Only)</h2>
  <table id="viewTable">
    <tr>
      <th>Date</th>
      <th>Site Name</th>
      <th>No. of Team Members</th>
    </tr>
  </table>

<script>
  async function loadView() {
    const urlParams = new URLSearchParams(window.location.search);
    const date = urlParams.get("date");

    const res = await fetch("https://script.google.com/macros/s/AKfycbxG_etzGXWEg9uK9TFciAKLp7_eJaWY_P-dO3LtNWNrvzRch7xuJ0xn3Xm7PFTUXlQt/exec" + date);
    const data = await res.json();

    const table = document.getElementById("viewTable");
    data.forEach(row => {
      const tr = table.insertRow();
      tr.insertCell(0).textContent = row.date;
      tr.insertCell(1).textContent = row.site;
      tr.insertCell(2).textContent = row.count;
    });
  }
  loadView();
</script>
</body>
</html>
