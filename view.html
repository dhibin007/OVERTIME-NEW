<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Employee Hours Shareable View</title>
<style>
body{ font-family:Arial,sans-serif; background:#f0f8ff; padding:20px;}
table{ width:100%; border-collapse:collapse; }
th,td{ border:1px solid #333; padding:8px; text-align:center;}
th{ background:#f7931e; color:white;}
tr:nth-child(even){ background:#e0e0e0; }
</style>
</head>
<body>
<h2>Shareable Employee Data</h2>
<table id="summaryTable">
  <tr><th>Date</th><th>Site Name</th><th>No. of Team Members</th></tr>
</table>

<script>
// Load exported data.json
fetch('data.json').then(res=>res.json()).then(data=>{
  const table=document.getElementById("summaryTable");
  Object.keys(data).sort().forEach(date=>{
    const teamsCount = Object.values(data[date]||{}).reduce((acc,emp)=>{ if(emp.site) acc[emp.site]=(acc[emp.site]||0)+1; return acc; },{});
    Object.keys(teamsCount).forEach(site=>{
      const tr=table.insertRow();
      tr.insertCell(0).textContent=date;
      tr.insertCell(1).textContent=site;
      tr.insertCell(2).textContent=teamsCount[site];
    });
  });
});
</script>
</body>
</html>
